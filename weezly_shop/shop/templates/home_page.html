{% extends 'base.html' %}

{% block content %}
<div class="d-flex align-items-center justify-content-center vh-100">
  <div class="container text-center">
    <h1 class="mb-4" style="font-size: 3em;">
      <span class="bounce" style="color: #FF5733;">W</span>
      <span class="bounce" style="color: #33FF57;">e</span>
      <span class="bounce" style="color: #3357FF;">e</span>
      <span class="bounce" style="color: #FF33A6;">z</span>
      <span class="bounce" style="color: #FFD700;">l</span>
      <span class="bounce" style="color: #33FFF3;">y</span> 
    </h1>
    <p class="mb-4" style="font-size: 1.5em;">Discover the best products at unbeatable prices!</p>
  
    <!-- Featured Product Section -->
    <h2 class="mb-4" style="font-size: 2em;">Product of the Week</h2>
    <div id="product-carousel" class="position-relative">
      <div class="d-flex overflow-hidden" style="width: 100%; justify-content: center;">
        <div class="row flex-nowrap" id="carousel-inner" style="transition: transform 0.5s ease;">
          {% for product in weekly_products %}
          <div class="card me-2 mb-2" style="width: 16rem;">
            <img class="card-img-top mt-2" style="object-fit: contain; width: 100%; height: 200px;" src="{{ product.image.url }}" alt="{{ product.title }}">
            <div class="card-body text-center d-flex flex-column">
              <h5 class="card-title">{{ product.title }}</h5>
              <p class="text-muted">${{ product.price }}</p>
              <a href="{{ product.get_absolute_url }}" class="mt-auto mb-3 btn btn-outline-primary w-100">Buy Now</a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let currentIndex = 0;
  const items = document.querySelectorAll('#carousel-inner .card');
  const totalItems = items.length;

  function updateCarousel() {
    items.forEach((item, index) => {
      item.style.display = index === currentIndex ? 'block' : 'none';
    });
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % totalItems;
    updateCarousel();
  }

  document.addEventListener('DOMContentLoaded', () => {
    updateCarousel();
    setInterval(nextSlide, 3000); // Change every 5 seconds
  });
</script>

<style>
  @keyframes bounceAnimation {
    0% { transform: translateY(0); }
    5%, 100% { transform: translateY(10px); }
    90% { transform: translateY(-40px); }
  }

  .bounce {
    display: inline-block;
    animation: bounceAnimation 1.5s infinite;
  }

  .bounce:nth-child(1) {
    animation-delay: 0s;
  }

  .bounce:nth-child(2) {
    animation-delay: 0.15s; /* Adjust the delay for each letter */
  }

  .bounce:nth-child(3) {
    animation-delay: 0.3s; /* Adjust the delay for each letter */
  }

  .bounce:nth-child(4) {
    animation-delay: 0.45s; /* Adjust the delay for each letter */
  }

  .bounce:nth-child(5) {
    animation-delay: 0.6s; /* Adjust the delay for each letter */
  }

  .bounce:nth-child(6) {
    animation-delay: 0.75s; /* Adjust the delay for each letter */
  }
</style>

{% endblock %}
